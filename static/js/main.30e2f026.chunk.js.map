{"version":3,"sources":["shared/routes.ts","shared/assets/dizzy-face.png","shared/assets/pot-of-food.png","shared/assets/weary-face.png","shared/assets/speech-balloon.png","shared/components/Buttons.tsx","shared/components/GlobalStyle.ts","shared/theme.ts","shared/gapi/context.ts","shared/gapi/constants.ts","shared/reporting.ts","shared/gapi/components/Provider.tsx","shared/gapi/useAuth.ts","shared/components/GlobalContextProvider.tsx","shared/components/Image.tsx","shared/components/Input.tsx","shared/components/Footer.tsx","shared/components/PageWrapper.tsx","shared/gapi/auth.ts","story/components/Story.tsx","ask/components/QueryForm.tsx","shared/assets/faces/jayne-facepalming.png","shared/assets/faces/jayne-frowning.png","shared/assets/faces/jayne-gesturing-not-ok.png","shared/assets/faces/jayne-gesturing-ok.png","shared/assets/faces/jayne-peace.png","shared/assets/faces/jayne-pouting.png","shared/assets/faces/jayne-prayer-hands.png","shared/assets/faces/jayne-raised-hands.png","shared/assets/faces/jayne-raising-hand.png","shared/assets/faces/jayne-shrugging.png","shared/assets/faces/jayne-smiling.png","shared/assets/faces/jayne-thinking-pose.png","shared/assets/faces/jayne-thumbs-down.png","shared/assets/faces/jayne-thumbs-up.png","shared/assets/faces/mdw-facepalming.png","shared/assets/faces/mdw-frowning.png","shared/assets/faces/mdw-gesturing-not-ok.png","shared/assets/faces/mdw-gesturing-ok.png","shared/assets/faces/mdw-peace.png","shared/assets/faces/mdw-pouting.png","shared/assets/faces/mdw-prayer-hands.png","shared/assets/faces/mdw-raised-hands.png","shared/assets/faces/mdw-raising-hand.png","shared/assets/faces/mdw-shrugging.png","shared/assets/faces/mdw-smiling.png","shared/assets/faces/mdw-thumbs-down.png","shared/assets/faces/mdw-thumbs-up.png","ask/reactions.ts","model/constants.ts","model/inference.ts","model/types.ts","ask/components/Reaction.tsx","ask/history.ts","ask/components/Response.tsx","database/query.ts","ask/useResult.ts","ask/components/Ask.tsx","how/components/HowItWorks.tsx","landing/components/Landing.tsx","privacy/components/Privacy.tsx","profile/components/connect/ConnectWrapper.tsx","profile/components/connect/ImportActionsWrapper.tsx","profile/components/connect/ImportGoogleSheet.tsx","profile/components/connect/Selector.tsx","profile/components/connect/UploadCsv.tsx","profile/components/connect/Connect.tsx","profile/components/Import.tsx","profile/constants.ts","profile/components/Summary.tsx","profile/components/Profile.tsx","shared/components/App.tsx","index.tsx"],"names":["ask","howItWorks","landing","privacy","profile","action","trimEnd","story","baseStyle","props","backgroundImage","theme","backgroundColor","darken","string","border","borderBottom","borderRadius","boxShadow","cursor","display","fontFamily","bodyFontFamily","fontSize","bodyFontSize","padding","transform","coloredStyle","yellow","orange","color","narrowStyle","LightButton","styled","button","NarrowLightButton","ColouredButton","NarrowColouredButton","LightLink","Link","NarrowLightLink","ColouredLink","NarrowColouredLink","GlobalStyle","createGlobalStyle","textColor","headingFontFamily","Color","inputFontFamily","inputFontSize","GapiAuthContext","createContext","API_KEY","process","CLIENT_ID","DISCOVERY_DOCS","SCOPE","logError","console","error","onPerfEntry","a","getCLS","getFID","getFCP","getLCP","getTTFB","GapiAuthProvider","children","isSignedIn","useState","setSignedIn","useEffect","gapi","client","init","apiKey","clientId","discoveryDocs","scope","auth2","getAuthInstance","listen","get","load","useGapiAuth","Provider","value","GlobalContextProvider","StrictMode","Image","span","src","height","width","Input","input","Wrapper","footer","Footer","year","Date","getFullYear","to","routes","href","main","PageWrapper","handleGoogleLogIn","signIn","handleGoogleLogOut","signOut","About","dizzyFaceSrc","wearyFaceSrc","Form","form","QueryForm","initialQuery","onUpdateQuery","text","setText","handleSubmit","event","preventDefault","trim","length","onSubmit","onChange","target","placeholder","onClick","JAYNE_REACTION_SET","mdwReactionSet","facepalming","faces","frowning","gesturingNotOk","gesturingOk","peace","pouting","prayerHands","raisedHands","raisingHand","shrugging","smiling","thumbsDown","thumbsUp","reactionSets","Map","thinkingPose","SAVED_MODEL_URL","tf","InferenceResult","memoize","div","Reaction","reactionSet","inference","reactionSetKey","idleFaces","negativeFaces","getNegativeReactions","positiveFaces","getPositiveReactions","thinkingFaces","getThinkingReactions","cluelessFaces","getUnknownReactions","InProgress","sample","Negative","Positive","Unknown","getHistoryLine","name","msg","time","Intl","DateTimeFormat","hour","minute","hour12","format","getHistoryPrompt","fade","Line","Response","feedback","queryHistory","botName","replace","toLowerCase","map","line","queryLocalDatabase","query","Promise","resolve","reject","setTimeout","useResult","result","setResult","getSearchResults","then","queryResult","Intro","FormWrapper","FormIntro","Ask","setQuery","history","updateHistory","q","HowItWorks","ButtonsWrapper","Landing","potOfFoodSrc","Privacy","ConnectWrapper","ImportActionsWrapper","ImportGoogleSheet","Selector","onSelectCsv","UploadCsv","onCancel","type","Connect","hasGapiAuth","useContext","hasCsv","setCsv","ImportProfile","IMPORT_PROFILE","ProfileWrapper","ConfigLinks","SummaryWrapper","Summary","useParams","JayneEatsApp","path","ReactDOM","render","document","getElementById","reportWebVitals","log"],"mappings":"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","file":"static/js/main.30e2f026.chunk.js","sourcesContent":["/**\n * Note: these routes should be kept in sync with `public/sitemap.xml`.\n */\nimport { trimEnd } from 'lodash';\n\nexport function ask() {\n  return '/ask';\n}\n\nexport function howItWorks() {\n  return '/how';\n}\n\nexport function landing() {\n  return '/';\n}\n\nexport function privacy() {\n  return '/privacy';\n}\n\nexport function profile(action = ':action') {\n  return trimEnd(`/profile/${action}`, '/');\n}\n\nexport function story() {\n  return '/story';\n}\n","export default __webpack_public_path__ + \"static/media/dizzy-face.f7929718.png\";","export default __webpack_public_path__ + \"static/media/pot-of-food.e945f15f.png\";","export default __webpack_public_path__ + \"static/media/weary-face.3ba1bc42.png\";","export default __webpack_public_path__ + \"static/media/speech-balloon.9e2450d3.png\";","import styled, { DefaultTheme, ThemeProps } from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nfunction baseStyle(props: ThemeProps<DefaultTheme>) {\n  return {\n    backgroundImage: `linear-gradient(\n      45deg,\n      ${props.theme.backgroundColor.darken(0.05).string()} 0%,\n      ${props.theme.backgroundColor.darken(0.1).string()} 100%\n    );`,\n    border: 'none',\n    borderBottom: `solid 3px\n    ${props.theme.backgroundColor.darken(0.1).string()}`,\n    borderRadius: '10px',\n    boxShadow: `0px 2px 2px\n    ${props.theme.backgroundColor.darken(0.3).string()}`,\n    cursor: 'pointer',\n    display: 'inline-block',\n    fontFamily: props.theme.bodyFontFamily,\n    fontSize: props.theme.bodyFontSize,\n    padding: '0.4em 1em',\n    '&:active': {\n      boxShadow: `0px 0px 1px\n      ${props.theme.backgroundColor.darken(0.3).string()}`,\n      borderBottom: 'none',\n      transform: 'translateY(4px)',\n    },\n    '&:hover': {\n      boxShadow: `0px 3px 3px\n      ${props.theme.backgroundColor.darken(0.3).string()}`,\n    },\n  };\n}\n\nfunction coloredStyle(props: ThemeProps<DefaultTheme>) {\n  return {\n    backgroundImage: `linear-gradient(\n      45deg,\n      ${props.theme.yellow.string()} 0%,\n      ${props.theme.orange.string()} 100%\n    )`,\n    borderBottom: `solid 3px ${props.theme.orange.darken(0.1).string()}`,\n    color: props.theme.backgroundColor.string(),\n  };\n}\n\nfunction narrowStyle() {\n  return {\n    padding: '0.1em 0.7em',\n  };\n}\n\nexport const LightButton = styled.button(baseStyle);\n\nexport const NarrowLightButton = styled(LightButton)(narrowStyle);\n\nexport const ColouredButton = styled(LightButton)(coloredStyle);\n\nexport const NarrowColouredButton = styled(ColouredButton)(narrowStyle);\n\nexport const LightLink = styled(Link)(baseStyle);\n\nexport const NarrowLightLink = styled(LightLink)(narrowStyle);\n\nexport const ColouredLink = styled(LightLink)(coloredStyle);\n\nexport const NarrowColouredLink = styled(ColouredLink)(narrowStyle);\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-color: ${(props) => props.theme.backgroundColor.string()};\n    color: ${(props) => props.theme.textColor.string()};\n    font-family: ${(props) => props.theme.bodyFontFamily};\n    font-size: ${(props) => props.theme.bodyFontSize};\n    margin: 1rem;\n    text-align: center;\n  }\n\n  a {\n    border-bottom: 1px solid ${(props) => props.theme.textColor.string()};\n    color: ${(props) => props.theme.textColor.string()};\n    text-decoration: none;\n    transition: border-bottom-width 300ms;\n\n    &:hover {\n      border-bottom-width: 3px;\n    }\n  }\n\n  em {\n    font-style: normal;\n    font-variant: small-caps;\n  }\n\n  h1, h2, h3 {\n    font-family: ${(props) => props.theme.headingFontFamily};\n  }\n`;\n\nexport default GlobalStyle;\n","import Color from 'color';\nimport { DefaultTheme } from 'styled-components';\n\nconst theme: DefaultTheme = {\n  backgroundColor: Color('#fff'),\n  textColor: Color('#222'),\n\n  orange: Color('#e75f25'),\n  yellow: Color('#f8d550'),\n\n  bodyFontFamily: '\"Annie Use Your Telescope\", cursive',\n  bodyFontSize: '28px',\n  headingFontFamily: '\"Fredericka the Great\", cursive',\n  inputFontFamily: '\"Annie Use Your Telescope\", cursive',\n  inputFontSize: '21px',\n};\n\nexport default theme;\n","import { createContext } from 'react';\n\nconst GapiAuthContext = createContext(false);\n\nexport default GapiAuthContext;\n","export const API_KEY = process.env.REACT_APP_GCP_API_KEY;\nexport const CLIENT_ID = process.env.REACT_APP_GCP_CLIENT_ID;\nexport const DISCOVERY_DOCS = [\n  'https://sheets.googleapis.com/$discovery/rest?version=v4',\n];\nexport const SCOPE = 'https://www.googleapis.com/auth/spreadsheets';\n","import { ReportHandler } from 'web-vitals';\n\nexport function logInfo(...messages: any[]) {\n  // eslint-disable-next-line no-console\n  console.log(...messages);\n}\n\nexport function logWarning(...messages: any[]) {\n  // eslint-disable-next-line no-console\n  console.warn(...messages);\n}\n\nexport function logError(...messages: any[]) {\n  // eslint-disable-next-line no-console\n  console.error(...messages);\n}\n\nexport async function reportWebVitals(onPerfEntry?: ReportHandler) {\n  if (!onPerfEntry) {\n    return;\n  }\n\n  const { getCLS, getFID, getFCP, getLCP, getTTFB } = await import(\n    'web-vitals'\n  );\n\n  getCLS(onPerfEntry);\n  getFID(onPerfEntry);\n  getFCP(onPerfEntry);\n  getLCP(onPerfEntry);\n  getTTFB(onPerfEntry);\n}\n","import { ReactNode } from 'react';\n\nimport GapiAuthContext from '../context';\nimport useGapiAuth from '../useAuth';\n\ninterface Props {\n  children: ReactNode;\n}\n\nexport default function GapiAuthProvider({ children }: Props) {\n  const isSignedIn = useGapiAuth();\n\n  return (\n    <GapiAuthContext.Provider value={isSignedIn}>\n      {children}\n    </GapiAuthContext.Provider>\n  );\n}\n","import { useEffect, useState } from 'react';\n\nimport { API_KEY, CLIENT_ID, DISCOVERY_DOCS, SCOPE } from './constants';\nimport { logError } from '../reporting';\n\nexport default function useGapiAuth() {\n  const [isSignedIn, setSignedIn] = useState(false);\n\n  useEffect(() => {\n    if (!gapi) {\n      logError('Google API not loaded.');\n      return;\n    }\n\n    async function initGapi() {\n      try {\n        await gapi.client.init({\n          apiKey: API_KEY,\n          clientId: CLIENT_ID,\n          discoveryDocs: DISCOVERY_DOCS,\n          scope: SCOPE,\n        });\n      } catch (error) {\n        logError('Could not load Google client', error);\n        return;\n      }\n\n      // Listen for sign-in state changes.\n      gapi.auth2.getAuthInstance().isSignedIn.listen(setSignedIn);\n\n      // Handle the initial sign-in state.\n      setSignedIn(gapi.auth2.getAuthInstance().isSignedIn.get());\n    }\n\n    gapi.load('client:auth2', initGapi);\n  });\n\n  return isSignedIn;\n}\n","import React from 'react';\nimport { ThemeProvider } from 'styled-components';\n\nimport GlobalStyle from './GlobalStyle';\nimport theme from '../theme';\nimport GapiAuthContextProvider from '../gapi/components/Provider';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\n/**\n * Provides app-wide context such as the theme and the Redux store.\n */\nexport default function GlobalContextProvider({ children }: Props) {\n  return (\n    <React.StrictMode>\n      <ThemeProvider theme={theme}>\n        <GapiAuthContextProvider>\n          <GlobalStyle />\n          {children}\n        </GapiAuthContextProvider>\n      </ThemeProvider>\n    </React.StrictMode>\n  );\n}\n","import styled from 'styled-components';\n\ninterface ImageProps {\n  height: string;\n  src: string;\n  width: string;\n}\n\nconst Image = styled.span<ImageProps>`\n  background: transparent center center no-repeat url(${(props) => props.src});\n  background-size: contain;\n  display: inline-block;\n  height: ${(props) => props.height || '100%'};\n  max-width: ${(props) => props.width || '100%'};\n  vertical-align: middle;\n  width: 100%;\n`;\n\nexport default Image;\n","import styled from 'styled-components';\n\nconst Input = styled.input`\n  border: none;\n  border-bottom: 1px dotted ${(props) => props.theme.textColor.string()};\n  font-family: ${(props) => props.theme.bodyFontFamily};\n  font-size: ${(props) => props.theme.bodyFontSize};\n  margin: 0.4rem 1rem;\n  padding: 0.4rem 1rem;\n  text-align: center;\n`;\n\nexport default Input;\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport * as routes from '../routes';\n\nconst Wrapper = styled.footer`\n  margin: 3rem auto;\n\n  ul {\n    display: inline-flex;\n    flex-wrap: wrap;\n    list-style-type: none;\n    margin: 1rem auto;\n    padding: 0;\n\n    li {\n      margin: auto 0.5rem;\n    }\n  }\n\n  p {\n    font-size: 1rem;\n  }\n`;\n\nexport default function Footer() {\n  const year = new Date().getFullYear();\n\n  return (\n    <Wrapper>\n      <ul>\n        <li>\n          <Link to={routes.story()}>Story</Link>\n        </li>\n        <li>\n          <Link to={routes.howItWorks()}>How It Works</Link>\n        </li>\n      </ul>\n      <ul>\n        <li>\n          <Link to={routes.profile('')}>Profile</Link>\n        </li>\n        <li>\n          <Link to={routes.ask()}>Ask</Link>\n        </li>\n        <li>\n          <Link to={routes.privacy()}>Privacy</Link>\n        </li>\n      </ul>\n      <p>\n        &copy; {year} <a href=\"https://kwcay.co\">Kwahu &amp; Cayes</a>\n      </p>\n    </Wrapper>\n  );\n}\n","import styled from 'styled-components';\n\nimport Footer from './Footer';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nconst Wrapper = styled.main`\n  margin: auto;\n  max-width: 800px;\n`;\n\nexport default function PageWrapper({ children }: Props) {\n  return (\n    <Wrapper>\n      <main>{children}</main>\n      <Footer />\n    </Wrapper>\n  );\n}\n","import { logError } from '../reporting';\n\nexport function handleGoogleLogIn() {\n  if (!gapi) {\n    logError('Google API not loaded.');\n    return;\n  }\n\n  gapi.auth2.getAuthInstance().signIn();\n}\n\nexport function handleGoogleLogOut() {\n  if (!gapi) {\n    return;\n  }\n\n  gapi.auth2.getAuthInstance().signOut();\n}\n","import {\n  dizzyFaceSrc,\n  wearyFaceSrc,\n  routes,\n  ColouredLink,\n  Image,\n  PageWrapper,\n} from '../../shared';\n\nexport default function About() {\n  return (\n    <PageWrapper>\n      <h1>The Story</h1>\n\n      <p>\n        Figuring out what <a href=\"https://kwcay.co/jayne\">Jayne</a> likes to\n        eat is <em>hard</em>. She doesn&apos;t like things with fruit in them,\n        but she&apos;ll take you up on that fruity drink anytime. If the drink\n        is a milkshake, however, no dice. That is, unless the milkshake was made\n        with strawberries or banana, in which case she{' '}\n        <em>can&apos;t get enough</em>!\n      </p>\n\n      <Image height=\"100px\" width=\"100px\" src={dizzyFaceSrc} />\n\n      <p>\n        Oh, and did you know she doesn&apos;t like chocolate? Not even Nutella!\n        She does enjoy a good chocolate cake, provided it&apos;s drowned in\n        vanilla. But forget about anything with &ldquo;chocolate\n        flavouring&rdquo;...{' '}\n        <Image height=\"28px\" width=\"28px\" src={wearyFaceSrc} />\n      </p>\n\n      <p>\n        In her opinion, her preferences follow a perfectly sensible pattern.{' '}\n        <em>Jayne Eats</em> is an artificially intelligent bot built precisely\n        to test that theory.\n      </p>\n\n      <ColouredLink to={routes.ask()}>try it out</ColouredLink>\n    </PageWrapper>\n  );\n}\n","import { FormEvent, ChangeEvent, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { NarrowColouredButton, Input } from '../../shared';\n\ninterface Props {\n  initialQuery: string;\n  onUpdateQuery: (query: string) => void;\n}\n\nconst Form = styled.form``;\n\nexport default function QueryForm({ initialQuery, onUpdateQuery }: Props) {\n  const [text, setText] = useState(initialQuery);\n\n  function handleType(event: ChangeEvent<HTMLInputElement>) {\n    setText(event?.target?.value);\n  }\n\n  function handleSubmit(event: FormEvent) {\n    event.preventDefault();\n\n    if (text.trim().length > 0) {\n      onUpdateQuery(text);\n    }\n  }\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input onChange={handleType} placeholder=\"apple pie\" value={text} />\n      <NarrowColouredButton onClick={handleSubmit}>?</NarrowColouredButton>\n    </Form>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/jayne-facepalming.bcb3ba26.png\";","export default __webpack_public_path__ + \"static/media/jayne-frowning.de97c739.png\";","export default __webpack_public_path__ + \"static/media/jayne-gesturing-not-ok.37c55937.png\";","export default __webpack_public_path__ + \"static/media/jayne-gesturing-ok.3be0396c.png\";","export default __webpack_public_path__ + \"static/media/jayne-peace.bb80a6ae.png\";","export default __webpack_public_path__ + \"static/media/jayne-pouting.6b62eb56.png\";","export default __webpack_public_path__ + \"static/media/jayne-prayer-hands.a445ef82.png\";","export default __webpack_public_path__ + \"static/media/jayne-raised-hands.212591a5.png\";","export default __webpack_public_path__ + \"static/media/jayne-raising-hand.e2ae846f.png\";","export default __webpack_public_path__ + \"static/media/jayne-shrugging.35147ee4.png\";","export default __webpack_public_path__ + \"static/media/jayne-smiling.21c20e91.png\";","export default __webpack_public_path__ + \"static/media/jayne-thinking-pose.fcc8a0bd.png\";","export default __webpack_public_path__ + \"static/media/jayne-thumbs-down.064a0c9f.png\";","export default __webpack_public_path__ + \"static/media/jayne-thumbs-up.3be0396c.png\";","export default __webpack_public_path__ + \"static/media/mdw-facepalming.4e597f48.png\";","export default __webpack_public_path__ + \"static/media/mdw-frowning.4ca0803c.png\";","export default __webpack_public_path__ + \"static/media/mdw-gesturing-not-ok.4638f8da.png\";","export default __webpack_public_path__ + \"static/media/mdw-gesturing-ok.fc086aef.png\";","export default __webpack_public_path__ + \"static/media/mdw-peace.fb32dfc6.png\";","export default __webpack_public_path__ + \"static/media/mdw-pouting.97cea421.png\";","export default __webpack_public_path__ + \"static/media/mdw-prayer-hands.71b5b3b6.png\";","export default __webpack_public_path__ + \"static/media/mdw-raised-hands.02ecf5eb.png\";","export default __webpack_public_path__ + \"static/media/mdw-raising-hand.6c8ce7cf.png\";","export default __webpack_public_path__ + \"static/media/mdw-shrugging.49bafeec.png\";","export default __webpack_public_path__ + \"static/media/mdw-smiling.4714e05a.png\";","export default __webpack_public_path__ + \"static/media/mdw-thumbs-down.254d570e.png\";","export default __webpack_public_path__ + \"static/media/mdw-thumbs-up.778cb05d.png\";","import * as faces from '../shared/assets/faces';\n\ninterface ReactionSet {\n  facepalming: string;\n  frowning: string;\n  gesturingNotOk: string;\n  gesturingOk: string;\n  peace: string;\n  pouting: string;\n  prayerHands: string;\n  raisedHands: string;\n  raisingHand: string;\n  shrugging: string;\n  smiling: string;\n  thinkingPose?: string;\n  thumbsDown: string;\n  thumbsUp: string;\n}\n\n/**\n * Reaction set: Jayne.\n */\nexport const jayneReactionSet: ReactionSet = {\n  facepalming: faces.jayneFacepalmingSrc,\n  frowning: faces.jayneFrowningSrc,\n  gesturingNotOk: faces.jayneGesturingNotOkSrc,\n  gesturingOk: faces.jayneGesturingOkSrc,\n  peace: faces.jaynePeaceSrc,\n  pouting: faces.jaynePoutingSrc,\n  prayerHands: faces.jaynePrayerHandsSrc,\n  raisedHands: faces.jayneRaisedHandsSrc,\n  raisingHand: faces.jayneRaisingHandSrc,\n  shrugging: faces.jayneShruggingSrc,\n  smiling: faces.jayneSmilingSrc,\n  thinkingPose: faces.jayneThinkingPoseSrc,\n  thumbsDown: faces.jayneThumbsDownSrc,\n  thumbsUp: faces.jayneThumbsUpSrc,\n};\n\nexport const JAYNE_REACTION_SET = 'Jayne reaction set';\n\n/**\n * Reaction set: Woman, medium-dark skin tone.\n */\nexport const mdwReactionSet: ReactionSet = {\n  facepalming: faces.mdwFacepalmingSrc,\n  frowning: faces.mdwFrowningSrc,\n  gesturingNotOk: faces.mdwGesturingNotOkSrc,\n  gesturingOk: faces.mdwGesturingOkSrc,\n  peace: faces.mdwPeaceSrc,\n  pouting: faces.mdwPoutingSrc,\n  prayerHands: faces.mdwPrayerHandsSrc,\n  raisedHands: faces.mdwRaisedHandsSrc,\n  raisingHand: faces.mdwRaisingHandSrc,\n  shrugging: faces.mdwShruggingSrc,\n  smiling: faces.mdwSmilingSrc,\n  thumbsDown: faces.mdwThumbsDownSrc,\n  thumbsUp: faces.mdwThumbsUpSrc,\n};\n\nexport const MDW_REACTION_SET = 'Woman, medium-dark skin tone reaction set';\n\nexport type ReactionSetKey =\n  | typeof JAYNE_REACTION_SET\n  | typeof MDW_REACTION_SET;\n\nexport const reactionSets: Map<ReactionSetKey, ReactionSet> = new Map([\n  [JAYNE_REACTION_SET, jayneReactionSet],\n  [MDW_REACTION_SET, mdwReactionSet],\n]);\n\nexport function getIdleReactions(reactionSet: ReactionSet) {\n  return [reactionSet.peace, reactionSet.raisingHand, reactionSet.smiling];\n}\n\nexport function getNegativeReactions(reactionSet: ReactionSet) {\n  return [\n    reactionSet.facepalming,\n    reactionSet.frowning,\n    reactionSet.gesturingNotOk,\n    reactionSet.pouting,\n    reactionSet.thumbsDown,\n  ];\n}\n\nexport function getPositiveReactions(reactionSet: ReactionSet) {\n  return [\n    reactionSet.gesturingOk,\n    reactionSet.prayerHands,\n    reactionSet.raisedHands,\n    reactionSet.thumbsUp,\n  ];\n}\n\nexport function getThinkingReactions(reactionSet: ReactionSet) {\n  return reactionSet.thinkingPose\n    ? [reactionSet.thinkingPose]\n    : [reactionSet.smiling];\n}\n\nexport function getUnknownReactions(reactionSet: ReactionSet) {\n  return [reactionSet.shrugging];\n}\n","export const SAVED_MODEL_URL =\n  'https://raw.githubusercontent.com/frnkly/jayne-eats/main/ml/saved_model.pb';\n","import * as tf from '@tensorflow/tfjs';\nimport { memoize } from 'lodash';\n\nimport { SAVED_MODEL_URL } from './constants';\n\nasync function loadModel() {\n  return tf.loadGraphModel(SAVED_MODEL_URL);\n}\n\nconst memoizedLoadModel = memoize(loadModel);\n\nexport default async function infer() {\n  const model = await memoizedLoadModel();\n  const sample = tf.tensor([1, 2, 3]);\n  const result = model.execute(sample);\n\n  return result;\n}\n","export enum InferenceResult {\n  InProgress = 'INFERENCE_IN_PROGRESS',\n  Negative = 'NEGATIVE_INFERENCE',\n  Positive = 'POSITIVE_INFERENCE',\n  Unknown = 'INFERENCE_UNKNOWN',\n}\n","import { sample } from 'lodash';\nimport styled from 'styled-components';\n\nimport {\n  getIdleReactions,\n  getNegativeReactions,\n  getPositiveReactions,\n  getThinkingReactions,\n  getUnknownReactions,\n  mdwReactionSet,\n  ReactionSetKey,\n  reactionSets,\n} from '../reactions';\nimport { InferenceResult } from '../../model';\nimport { Image } from '../../shared';\n\ninterface Props {\n  inference: InferenceResult | null;\n  reactionSetKey: ReactionSetKey;\n}\n\nconst Wrapper = styled.div`\n  margin: 5vh auto;\n`;\n\nexport default function Reaction({ inference, reactionSetKey }: Props) {\n  const faces = reactionSets.get(reactionSetKey) || mdwReactionSet;\n  const idleFaces = getIdleReactions(faces);\n  const negativeFaces = getNegativeReactions(faces);\n  const positiveFaces = getPositiveReactions(faces);\n  const thinkingFaces = getThinkingReactions(faces);\n  const cluelessFaces = getUnknownReactions(faces);\n  let src = faces.smiling;\n\n  switch (inference) {\n    case InferenceResult.InProgress:\n      src = sample(thinkingFaces) ?? thinkingFaces[0];\n      break;\n\n    case InferenceResult.Negative:\n      src = sample(negativeFaces) ?? negativeFaces[0];\n      break;\n\n    case InferenceResult.Positive:\n      src = sample(positiveFaces) ?? positiveFaces[0];\n      break;\n\n    case InferenceResult.Unknown:\n      src = sample(cluelessFaces) ?? cluelessFaces[0];\n      break;\n\n    default:\n      src = sample(idleFaces) ?? idleFaces[0];\n  }\n\n  return (\n    <Wrapper>\n      <Image height=\"100px\" width=\"100px\" src={src} />\n    </Wrapper>\n  );\n}\n","export function getHistoryPrompt(name: string) {\n  const time = Intl.DateTimeFormat('en', {\n    hour: 'numeric',\n    minute: 'numeric',\n    hour12: true,\n  }).format(new Date());\n\n  return `${name} @ ${time}:`;\n}\n\nexport function getHistoryLine(name: string, msg: string) {\n  return `${getHistoryPrompt(name)} ${msg}`;\n}\n","import styled from 'styled-components';\n\nimport { getHistoryLine } from '../history';\nimport { InferenceResult } from '../../model';\n\ninterface Props {\n  inference: InferenceResult | null;\n  name: string;\n  queryHistory: string[];\n}\n\nconst Wrapper = styled.div`\n  background-color: ${(props) => props.theme.yellow.fade(0.95).string()};\n  border-radius: 3px;\n  box-shadow: inset 0 0 4px\n    ${(props) => props.theme.yellow.darken(0.6).string()};\n  color: ${(props) => props.theme.yellow.darken(0.6).string()};\n  display: flex;\n  flex-direction: column;\n  height: 200px;\n  margin: 3rem auto 1rem;\n  max-width: 700px;\n  overflow-y: scroll;\n  padding: 2rem;\n  text-align: left;\n\n  span:first-child {\n    color: ${(props) => props.theme.textColor.string()};\n    font-size: 1.6rem;\n  }\n`;\n\nconst Line = styled.span`\n  font-size: 1.2rem;\n  margin: 0.4rem 0;\n`;\n\nexport default function Response({ inference, name, queryHistory }: Props) {\n  let feedback;\n  const botName = `${name.replace(' ', '-').toLowerCase()}-bot`;\n\n  switch (inference) {\n    case InferenceResult.InProgress:\n      feedback = 'thinking...';\n      break;\n\n    case InferenceResult.Negative:\n      feedback = 'probably not.';\n      break;\n\n    case InferenceResult.Positive:\n      feedback = \"there's a good chance.\";\n      break;\n\n    case InferenceResult.Unknown:\n      feedback = 'your guess is as good as mine.';\n      break;\n\n    default:\n      feedback = '...';\n  }\n\n  return (\n    <Wrapper>\n      <Line>{getHistoryLine(botName, feedback)}</Line>\n      {queryHistory.map((line) => (\n        <Line key={line}>{line}</Line>\n      ))}\n    </Wrapper>\n  );\n}\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport async function queryLocalDatabase(query: string) {\n  return null;\n}\n","import { useEffect, useState } from 'react';\n\nimport { queryLocalDatabase } from '../database';\nimport { InferenceResult } from '../model';\n\nexport async function getSearchResults(\n  query: string,\n): Promise<InferenceResult | null> {\n  const normalizedQuery = query.trim();\n\n  if (normalizedQuery.trim().length < 1) {\n    return null;\n  }\n\n  // 1. Query local database.\n  const localDbResult = await queryLocalDatabase(query);\n\n  if (localDbResult) {\n    // TODO...\n    return InferenceResult.Unknown;\n  }\n\n  // 2. Query foods database to obtain ingredients.\n  // TODO...\n\n  // 3. Infer result.\n  // TODO...\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(InferenceResult.Unknown);\n    }, 3500);\n  });\n}\n\nexport default function useResult(query: string) {\n  const [result, setResult] = useState<InferenceResult | null>(\n    InferenceResult.Unknown,\n  );\n\n  useEffect(() => {\n    setResult(InferenceResult.InProgress);\n    getSearchResults(query).then((queryResult) => setResult(queryResult));\n  }, [query]);\n\n  return result;\n}\n","import { useState } from 'react';\nimport styled from 'styled-components';\n\nimport QueryForm from './QueryForm';\nimport Reaction from './Reaction';\nimport Response from './Response';\nimport { getHistoryLine } from '../history';\nimport { JAYNE_REACTION_SET } from '../reactions';\nimport useResult from '../useResult';\nimport { PageWrapper } from '../../shared';\n\nconst Intro = styled.div`\n  margin: 0 auto;\n  max-width: 600px;\n`;\n\nconst FormWrapper = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  @media screen and (min-width: 800px) {\n    flex-direction: row;\n    justify-content: center;\n  }\n`;\n\nconst FormIntro = styled.span``;\n\nexport default function Ask() {\n  const [query, setQuery] = useState('');\n  const [history, updateHistory] = useState<string[]>([]);\n  const inference = useResult(query);\n  const name = 'Jayne';\n  const reactionSetKey = JAYNE_REACTION_SET;\n\n  function handleNewQuery(q: string) {\n    setQuery(() => q);\n    updateHistory(() => [\n      getHistoryLine('you', `Would ${name} enjoy ${q}?`),\n      ...history,\n    ]);\n  }\n\n  return (\n    <PageWrapper>\n      <h2>Ask {name}</h2>\n      <Intro>\n        Figuring out what {name} likes to eat is <em>hard</em>. Thankfully, we\n        can just &ldquo;ask&rdquo; her (the robot version of her, that is).\n      </Intro>\n      <Reaction inference={inference} reactionSetKey={reactionSetKey} />\n      <FormWrapper>\n        <FormIntro>Would {name} enjoy...</FormIntro>\n        <QueryForm initialQuery={query} onUpdateQuery={handleNewQuery} />\n      </FormWrapper>\n      <Response inference={inference} name={name} queryHistory={history} />\n    </PageWrapper>\n  );\n}\n","import { PageWrapper } from '../../shared';\n\nexport default function HowItWorks() {\n  return (\n    <PageWrapper>\n      <h1>How It Works</h1>\n    </PageWrapper>\n  );\n}\n","import styled from 'styled-components';\n\nimport {\n  ColouredLink,\n  Image,\n  LightLink,\n  PageWrapper,\n  potOfFoodSrc,\n  routes,\n} from '../../shared';\n\nconst ButtonsWrapper = styled.div`\n  margin: 1rem;\n\n  a {\n    margin: 1rem;\n  }\n`;\n\nexport default function Landing() {\n  return (\n    <PageWrapper>\n      <h1>Jayne Eats</h1>\n\n      <p>\n        Jayne is an artificially-intelligent bot that knows what you like to\n        eat.\n      </p>\n\n      <Image width=\"100px\" height=\"100px\" src={potOfFoodSrc} />\n\n      <ButtonsWrapper>\n        <ColouredLink to={routes.ask()}>try it out</ColouredLink>\n        <LightLink to={routes.story()}>learn more</LightLink>\n      </ButtonsWrapper>\n    </PageWrapper>\n  );\n}\n","import { PageWrapper } from '../../shared';\n\nexport default function Privacy() {\n  return (\n    <PageWrapper>\n      <h1>Privacy</h1>\n    </PageWrapper>\n  );\n}\n","import styled from 'styled-components';\n\nconst ConnectWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport default ConnectWrapper;\n","import styled from 'styled-components';\n\nconst ImportActionsWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  margin: 1rem auto;\n\n  button {\n    margin: auto 1rem;\n  }\n`;\n\nexport default ImportActionsWrapper;\n","import ConnectWrapper from './ConnectWrapper';\nimport ImportActionsWrapper from './ImportActionsWrapper';\nimport {\n  handleGoogleLogOut,\n  Input,\n  NarrowColouredButton,\n  NarrowLightButton,\n} from '../../../shared';\n\nexport default function ImportGoogleSheet() {\n  return (\n    <ConnectWrapper>\n      <Input placeholder=\"paste a spreadsheet link here\" />\n\n      <ImportActionsWrapper>\n        <NarrowColouredButton>Import Google Sheet</NarrowColouredButton>\n        <NarrowLightButton onClick={handleGoogleLogOut}>\n          Logout\n        </NarrowLightButton>\n      </ImportActionsWrapper>\n    </ConnectWrapper>\n  );\n}\n","import styled from 'styled-components';\n\nimport {\n  handleGoogleLogIn,\n  NarrowColouredButton,\n  NarrowLightLink,\n  routes,\n} from '../../../shared';\n\ninterface Props {\n  onSelectCsv: () => void;\n}\n\nconst Wrapper = styled.div`\n  button {\n    margin: auto 1rem;\n  }\n`;\n\nexport default function Selector({ onSelectCsv }: Props) {\n  return (\n    <Wrapper>\n      <NarrowColouredButton onClick={handleGoogleLogIn}>\n        Google Sheet\n      </NarrowColouredButton>\n      <NarrowColouredButton onClick={onSelectCsv}>\n        Upload CSV\n      </NarrowColouredButton>\n      <NarrowLightLink to={routes.profile()}>Cancel</NarrowLightLink>\n    </Wrapper>\n  );\n}\n","import ConnectWrapper from './ConnectWrapper';\nimport ImportActionsWrapper from './ImportActionsWrapper';\nimport {\n  Input,\n  NarrowColouredButton,\n  NarrowLightButton,\n} from '../../../shared';\n\ninterface Props {\n  onCancel: () => void;\n}\n\nexport default function UploadCsv({ onCancel }: Props) {\n  return (\n    <ConnectWrapper>\n      <Input type=\"file\" />\n\n      <ImportActionsWrapper>\n        <NarrowColouredButton>Upload</NarrowColouredButton>\n        <NarrowLightButton onClick={onCancel}>Cancel</NarrowLightButton>\n      </ImportActionsWrapper>\n    </ConnectWrapper>\n  );\n}\n","import { useContext, useState } from 'react';\n\nimport ImportGoogleSheet from './ImportGoogleSheet';\nimport Selector from './Selector';\nimport UploadCsv from './UploadCsv';\nimport { GapiAuthContext } from '../../../shared';\n\nexport default function Connect() {\n  const hasGapiAuth = useContext(GapiAuthContext);\n  const [hasCsv, setCsv] = useState(false);\n\n  switch (true) {\n    case hasGapiAuth:\n      return <ImportGoogleSheet />;\n\n    case hasCsv:\n      return <UploadCsv onCancel={() => setCsv(false)} />;\n\n    default:\n      return <Selector onSelectCsv={() => setCsv(true)} />;\n  }\n}\n","import Connect from './connect/Connect';\nimport { PageWrapper } from '../../shared';\n\nexport default function ImportProfile() {\n  return (\n    <PageWrapper>\n      <h1>New Profile</h1>\n      <p>To create or import a profile, connect a spreadsheet.</p>\n      <Connect />\n    </PageWrapper>\n  );\n}\n","export const CREATE_PROFILE = 'create';\nexport const IMPORT_PROFILE = 'import';\n\nexport type ProfileAction = typeof CREATE_PROFILE | typeof IMPORT_PROFILE;\n","import styled from 'styled-components';\n\nimport { IMPORT_PROFILE } from '../constants';\nimport { NarrowColouredLink, PageWrapper, routes } from '../../shared';\n\nconst ProfileWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst ConfigLinks = styled.div`\n  display: flex;\n  flex-direction: column;\n  max-width: 400px;\n\n  a {\n    margin: 0.4rem auto;\n  }\n`;\n\nconst SummaryWrapper = styled.div`\n  flex-grow: 1;\n`;\n\nexport default function Summary() {\n  return (\n    <PageWrapper>\n      <h1>Profile</h1>\n\n      <ProfileWrapper>\n        <SummaryWrapper>To do: profile summary...</SummaryWrapper>\n        <ConfigLinks>\n          <NarrowColouredLink to={routes.profile(IMPORT_PROFILE)}>\n            Import\n          </NarrowColouredLink>\n        </ConfigLinks>\n      </ProfileWrapper>\n    </PageWrapper>\n  );\n}\n","import { useParams } from 'react-router-dom';\n\nimport ImportProfile from './Import';\nimport Summary from './Summary';\nimport { IMPORT_PROFILE, ProfileAction } from '../constants';\n\nexport default function About() {\n  const { action } = useParams<{ action: ProfileAction }>();\n\n  switch (action) {\n    case IMPORT_PROFILE:\n      return <ImportProfile />;\n\n    default:\n      return <Summary />;\n  }\n}\n","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport * as routes from '../routes';\nimport { StoryPage } from '../../story';\nimport { AskPage } from '../../ask';\nimport { HowItWorksPage } from '../../how';\nimport { LandingPage } from '../../landing';\nimport { PrivacyPage } from '../../privacy';\nimport { ProfilePage } from '../../profile';\n\nexport default function JayneEatsApp() {\n  return (\n    <Router>\n      <Switch>\n        <Route path={routes.ask()}>\n          <AskPage />\n        </Route>\n        <Route path={routes.howItWorks()}>\n          <HowItWorksPage />\n        </Route>\n        <Route path={routes.privacy()}>\n          <PrivacyPage />\n        </Route>\n        <Route path={[routes.profile(), routes.profile('')]}>\n          <ProfilePage />\n        </Route>\n        <Route path={routes.story()}>\n          <StoryPage />\n        </Route>\n        <Route path={routes.landing()}>\n          <LandingPage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","import '@csstools/normalize.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './shared/components/App';\nimport GlobalContextProvider from './shared/components/GlobalContextProvider';\nimport { reportWebVitals } from './shared/reporting';\n\nReactDOM.render(\n  <GlobalContextProvider>\n    <App />\n  </GlobalContextProvider>,\n  document.getElementById('jayne-eats-root'),\n);\n\n// eslint-disable-next-line no-console\nreportWebVitals(console.log);\n"],"sourceRoot":""}